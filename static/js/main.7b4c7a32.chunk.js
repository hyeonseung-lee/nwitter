(this.webpackJsonpnwitter=this.webpackJsonpnwitter||[]).push([[0],{69:function(e,t,n){},70:function(e,t,n){"use strict";n.r(t);var c=n(8),a=n.n(c),r=n(50),s=n.n(r),i=n(12),l=n(34),o=n(14),u=n(0),j=n.n(u),b=n(1),d=n(45),x=n(27),O=n(42),f=n(44),m=n(51),h=n(52),p={apiKey:"AIzaSyAp2wgoopXy9cK4Ma1FiAgbJoIk_9aX4Kg",authDomain:"nwitter-b972a.firebaseapp.com",projectId:"nwitter-b972a",storageBucket:"nwitter-b972a.appspot.com",messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/hyeonseung-lee/nwitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyAp2wgoopXy9cK4Ma1FiAgbJoIk_9aX4Kg",REACT_APP_AUTH_DOMAIN:"nwitter-b972a.firebaseapp.com",REACT_APP_PROJECT_ID:"nwitter-b972a",REACT_APP_STORAGE_BUCKET:"nwitter-b972a.appspot.com",REACT_APP_MESSAGIN_ID:"266490512712",REACT_APP_APP_ID:"1:266490512712:web:70cfb773774c310e695f7d"}).MESSAGIN_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/hyeonseung-lee/nwitter",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_API_KEY:"AIzaSyAp2wgoopXy9cK4Ma1FiAgbJoIk_9aX4Kg",REACT_APP_AUTH_DOMAIN:"nwitter-b972a.firebaseapp.com",REACT_APP_PROJECT_ID:"nwitter-b972a",REACT_APP_STORAGE_BUCKET:"nwitter-b972a.appspot.com",REACT_APP_MESSAGIN_ID:"266490512712",REACT_APP_APP_ID:"1:266490512712:web:70cfb773774c310e695f7d"}).APP_ID},v=O.initializeApp(p),w=f.getAuth(),g=f,N=Object(m.a)(),y=Object(h.a)(v),A=n(35),_=n(6),E=function(){return Object(_.jsxs)("div",{className:"",children:[Object(_.jsx)(x.a,{icon:A.a,size:"4x",color:"orange"}),Object(_.jsx)("div",{className:"font-medium text-center text-7xl mb-5",children:"\uc9d1\uc0ac With"}),Object(_.jsx)("div",{className:"font-light text-2xl mt-10",children:"Share your lovely pet."})]})},P=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(""),s=Object(i.a)(r,2),l=s[0],o=s[1],u=Object(c.useState)(!0),d=Object(i.a)(u,2),x=d[0],O=d[1],f=Object(c.useState)(""),m=Object(i.a)(f,2),h=m[0],p=m[1],v=function(e){var t=e.target,n=t.name,c=t.value;"email"===n?a(c):"password"===n&&o(c)},N=function(){var e=Object(b.a)(j.a.mark((function e(t){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),e.prev=1,!x){e.next=8;break}return e.next=5,g.createUserWithEmailAndPassword(w,n,l);case 5:e.sent,e.next=11;break;case 8:return e.next=10,g.signInWithEmailAndPassword(w,n,l);case 10:e.sent;case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),console.log(e.t0.message.slice(22,-2)),p(e.t0.message.slice(22,-2));case 17:case"end":return e.stop()}}),e,null,[[1,13]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:"mt-40",children:[Object(_.jsxs)("form",{onSubmit:N,className:"flex mb-3 rounded-lg border-2 border-gray-200",children:[Object(_.jsxs)("div",{className:"w-4/5",children:[Object(_.jsx)("input",{name:"email",type:"text",placeholder:"Email",required:!0,value:n,onChange:v,className:"block w-full h-10 text-center"}),Object(_.jsx)("input",{name:"password",type:"password",placeholder:"Password",required:!0,value:l,onChange:v,className:"block w-full h-10 text-center"})]}),Object(_.jsx)("input",{type:"submit",value:x?"Create":"Log In",className:"block w-1/5"}),h]}),Object(_.jsxs)("div",{className:"mx-1",children:[Object(_.jsx)("span",{children:x?"Do you already have an account? ":"Is this your first time?"}),Object(_.jsx)("input",{type:"submit",className:"ml-3 underline text-indigo-500 bg-transparent",onClick:function(){return O((function(e){return!e}))},value:x?"Sign in":"Create Account"})]})]})})},S=function(e){e.isLoggedIn;var t=function(){var e=Object(b.a)(j.a.mark((function e(t){var n,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"google"===(n=t.target.name)?c=new g.GoogleAuthProvider:"github"===n&&(c=new g.GithubAuthProvider),e.next=4,g.signInWithPopup(w,c);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)("div",{className:"border-2 border-gray-200 bg-white flex justify-between mt-40 h-5/6 ",children:[Object(_.jsx)("div",{className:"w-1/2 mx-3 m-10",children:Object(_.jsx)(E,{})}),Object(_.jsxs)("div",{className:"w-1/2 mr-5 flex-col",children:[Object(_.jsx)(P,{}),Object(_.jsxs)("div",{className:"mt-10",children:[Object(_.jsxs)("div",{className:"border-b-4 mx-3 text-2xl mb-3 flex justify-center items-center",children:[Object(_.jsx)(x.a,{icon:d.b,className:"mr-2"}),Object(_.jsx)("button",{onClick:t,name:"google",className:"px-5",children:"Continue with Google"})]}),Object(_.jsxs)("div",{className:"border-b-4 mx-3 text-2xl mb-3 flex justify-center items-center",children:[Object(_.jsx)(x.a,{icon:d.a,className:"mr-2"}),Object(_.jsx)("button",{onClick:t,name:"github",className:"px-5",children:"Continue with Github"})]})]})]})]})},C=n(46),I=n(16),k=n(26),T=function(e){var t=e.nweetObj,n=e.isOwner;console.log(t);var a=Object(c.useState)(!1),r=Object(i.a)(a,2),s=r[0],l=r[1],o=Object(c.useState)(t.text),u=Object(i.a)(o,2),d=u[0],x=u[1],O=function(){var e=Object(b.a)(j.a.mark((function e(){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.confirm("Are you sure you want to delete this nweet?")){e.next=7;break}return e.next=4,Object(I.c)(Object(I.d)(N,"nweets",t.id));case 4:if(!t.attachmentUrl){e.next=7;break}return e.next=7,Object(k.a)(Object(k.d)(y,t.attachmentUrl));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),f=function(){return l((function(e){return!e}))},m=function(){var e=Object(b.a)(j.a.mark((function e(n){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.next=3,Object(I.j)(Object(I.d)(N,"nweets",t.id),{text:d});case 3:l(!1);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{className:"basicBox",children:s?Object(_.jsx)(_.Fragment,{children:n&&Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("form",{onSubmit:m,children:[Object(_.jsx)("input",{type:"text",placeholder:"Edit your nweet",value:d,onChange:function(e){var t=e.target.value;x(t)},required:!0}),Object(_.jsx)("input",{type:"submit",value:"Update Nweet"})]}),Object(_.jsx)("button",{onClick:f,children:"Cancel"})]})}):Object(_.jsxs)("div",{className:"flex",children:[Object(_.jsx)("div",{className:"w-1/2",children:t.attachmentUrl&&Object(_.jsx)("img",{src:t.attachmentUrl,className:"rounded-3xl object-cover"})}),Object(_.jsxs)("div",{className:"mx-5 w-1/2 flex-col justify-center",children:[Object(_.jsx)("div",{className:"h-5/6 text-2xl text-center align-middle",children:t.text}),n?Object(_.jsxs)("div",{className:"w-full h-1/6 flex justify-between",children:[Object(_.jsx)("button",{className:"w-full mx-1 text-xl",onClick:O,children:"Delete"}),Object(_.jsx)("button",{className:"w-full mx-1 text-xl",onClick:f,children:"Edit"})]}):Object(_.jsx)("div",{children:t.createdId})]})]})},t.id)},D=n(72),R=function(e){var t=e.userObj,n=Object(c.useState)(""),a=Object(i.a)(n,2),r=a[0],s=a[1],l=Object(c.useState)(null),o=Object(i.a)(l,2),u=o[0],d=o[1],x=Object(c.useRef)(),O=function(){x.current.value=""},f=function(){var e=Object(b.a)(j.a.mark((function e(n){var c,a,i,l;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),!u){e.next=9;break}return a=Object(k.d)(y,"".concat(t.uid,"/").concat(Object(D.a)())),e.next=5,Object(k.e)(a,u,"data_url");case 5:return e.next=7,Object(k.b)(a);case 7:i=e.sent,c={text:r,createdAt:Date.now(),creatorId:t.uid,attachmentUrl:i};case 9:if(e.prev=9,!(r.length>0&&u)){e.next=21;break}return e.next=13,Object(I.a)(Object(I.b)(N,"nweets"),c);case 13:l=e.sent,console.log("Document written with ID: ",l.id),alert("Thank you for uploading"),s(""),d(""),O(),e.next=22;break;case 21:0===r.length?(console.log("please type!"),alert("please type!")):(console.log("please choose image!"),alert("please choose image!"));case 22:e.next=28;break;case 24:e.prev=24,e.t0=e.catch(9),console.log("Error adding document: ",e.t0),alert("Error adding document: ",e.t0);case 28:case"end":return e.stop()}}),e,null,[[9,24]])})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsx)("div",{className:"basicBox h-1/4",children:Object(_.jsxs)("form",{onSubmit:f,className:"flex h-full",children:[Object(_.jsxs)("div",{className:"flex-col w-full",children:[Object(_.jsx)("input",{type:"text",value:r,onChange:function(e){var t=e.target.value;s(t)},placeholder:"Why are they lovely?",maxLength:500,className:"w-full h-2/4 mb-4 rounded-t-3xl rounded-l-3xl text-center bg-gray-100"}),Object(_.jsxs)("div",{className:"w-full h-1/6 flex justify-between",children:[Object(_.jsx)("input",{type:"file",accept:"image/*",onChange:function(e){var t=e.target.files[0],n=new FileReader;n.onloadend=function(e){var t=e.currentTarget.result;d(t)},n.readAsDataURL(t)},ref:x,className:""}),u&&Object(_.jsx)("button",{onClick:function(){d(null),O()},className:"w-1/6",children:"Clear"})]}),Object(_.jsx)("input",{className:"text-xl w-full h-1/6 mt-3 ",type:"submit",value:"\ud83d\udc31 Meow \ud83d\udc31"})]}),Object(_.jsx)("img",{src:u,className:"flex w-2/6  ml-5 rounded-3xl object-cover"})]})})},U=function(e){var t=e.userObj;console.log(t);var n=Object(c.useState)([]),a=Object(i.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){Object(I.g)(Object(I.b)(N,"nweets"),(function(e){var t=e.docs.map((function(e){return Object(C.a)({id:e.id},e.data())}));s(t)}))}),[]),Object(_.jsx)("div",{className:"w-full",children:r.map((function(e){if(e.creatorId===t.uid)return Object(_.jsx)(T,{nweetObj:e,isOwner:e.creatorId===t.uid},e.id)}))})},K=function(e){var t=e.userObj,n=Object(c.useState)([]),a=Object(i.a)(n,2),r=a[0],s=a[1];return Object(c.useEffect)((function(){Object(I.g)(Object(I.b)(N,"nweets"),(function(e){var t=e.docs.map((function(e){return Object(C.a)({id:e.id},e.data())}));s(t)}))}),[]),Object(_.jsxs)("div",{className:"w-full h-full",children:[Object(_.jsx)(R,{userObj:t}),Object(_.jsx)("div",{className:"w-full",children:r.map((function(e){return Object(_.jsx)(T,{nweetObj:e,isOwner:e.creatorId===t.uid},e.id)}))})]})},F=n(29),L=function(e){var t=e.refreshUser,n=e.userObj,a=Object(o.g)(),r=Object(c.useState)(n.displayName),s=Object(i.a)(r,2),l=s[0],u=s[1],d=function(){var e=Object(b.a)(j.a.mark((function e(){var t,c;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(I.b)(N,"nweets");case 2:return t=e.sent,c=Object(I.i)(t,Object(I.k)("creatorId","==",n.uid),Object(I.h)("createdAt")),e.next=6,Object(I.e)(c);case 6:e.sent.forEach((function(e){console.log(e)}));case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();Object(c.useEffect)((function(){d()}),[]);var x=function(){var e=Object(b.a)(j.a.mark((function e(c){return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(c.preventDefault(),n.displayName===l){e.next=6;break}return e.next=4,Object(F.wb)(w.currentUser,{displayName:l}).then((function(){t(),alert("Profile Updated!")})).catch((function(e){alert("error! ".concat(e))}));case 4:e.next=7;break;case 6:alert("Please type diffrent name!");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(_.jsxs)(_.Fragment,{children:[Object(_.jsxs)("div",{className:"basicBox flex-col",children:[Object(_.jsx)("a",{className:"text-3xl mb-6 mx-2",children:"Edit profile"}),Object(_.jsx)("div",{className:"flex justify-between mx-3",children:Object(_.jsxs)("form",{onSubmit:x,className:"w-3/5 h-10 border-2 border-gray-200",children:[Object(_.jsx)("input",{onChange:function(e){var t=e.target.value;u(t)},type:"text",placeholder:"Display name",value:l,className:"w-2/3 h-9 text-center"}),Object(_.jsx)("input",{type:"submit",value:"Update Profile",className:"w-1/3 h-9"})]})}),Object(_.jsx)("div",{className:"w-full flex justify-end mt-10",children:Object(_.jsx)("button",{onClick:function(){g.signOut(w),a.push("/")},className:"w-1/5 h-8",children:"Log Out"})})]}),Object(_.jsx)(U,{userObj:n})]})},W=function(e){var t=e.userObj;return Object(_.jsxs)("nav",{className:"fixed top-0 w-full flex justify-between border-b-2 border-gray-200 px-80 pt-3 bg-white",children:[Object(_.jsxs)("div",{className:"flex pb-2",children:[Object(_.jsx)(x.a,{icon:A.a,size:"3x",color:"orange"}),Object(_.jsx)(l.b,{to:"/",children:Object(_.jsx)("div",{className:"font-medium text-center text-4xl ml-4",children:"\uc9d1\uc0acWith"})})]}),Object(_.jsx)("div",{className:"flex content-center align-middle",children:Object(_.jsxs)(l.b,{to:"/profile",children:[t.displayName,"'s Profile"]})})]})};var B=Object(o.h)((function(e){var t=e.history;return Object(c.useEffect)((function(){var e=t.listen((function(){window.scrollTo(0,0)}));return function(){e()}}),[]),null})),M=function(e){var t=e.refreshUser,n=e.isLoggedIn,c=e.userObj;return Object(_.jsxs)(l.a,{children:[n&&Object(_.jsx)(W,{userObj:c}),Object(_.jsx)(B,{}),Object(_.jsx)(o.d,{children:n?Object(_.jsxs)("div",{className:"mx-80 mt-20 h-full",children:[Object(_.jsx)(o.b,{exact:!0,path:"/",children:Object(_.jsx)(K,{userObj:c})}),Object(_.jsx)(o.b,{exact:!0,path:"/profile",children:Object(_.jsx)(L,{userObj:c,refreshUser:t})}),Object(_.jsx)(o.a,{from:"*",to:"/"})]}):Object(_.jsxs)(_.Fragment,{children:[Object(_.jsx)(o.b,{exact:!0,path:"/",children:Object(_.jsx)(S,{isLoggedIn:n})}),Object(_.jsx)(o.a,{from:"*",to:"/"})]})})]})};var G=function(){var e=Object(c.useState)(!1),t=Object(i.a)(e,2),n=t[0],a=t[1],r=Object(c.useState)(null),s=Object(i.a)(r,2),l=s[0],o=s[1];return Object(c.useEffect)((function(){w.onAuthStateChanged((function(e){o(e?{displayName:e.displayName,uid:e.uid,updateProfile:function(e){return Object(F.wb)(w.currentUser,e)}}:null),a(!0)}))}),[]),Object(_.jsx)(_.Fragment,{children:Object(_.jsxs)("div",{className:Boolean(l)?"h-screen":"mx-96",children:[Object(_.jsx)("div",{className:"h-full",children:n?Object(_.jsx)(M,{refreshUser:function(){var e=w.currentUser;o({displayName:e.displayName,uid:e.uid,updateProfile:function(t){return Object(F.wb)(e,t)}})},isLoggedIn:Boolean(l),userObj:l}):"Initializing..."}),Object(_.jsxs)("footer",{className:"fixed bottom-2 right-3",children:[Object(_.jsx)("a",{children:"V.beta 21.09.26"}),Object(_.jsxs)("a",{children:["\xa9 ",(new Date).getFullYear()," Nwitter Clone Competition"]}),Object(_.jsx)("a",{children:"\ud83d\udce7 dlgustmd3590@gmail.com"})]})]})})},H=n(55);n(69);console.log(H.a),s.a.render(Object(_.jsx)(a.a.StrictMode,{children:Object(_.jsx)(G,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.7b4c7a32.chunk.js.map